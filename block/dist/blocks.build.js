!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,r){"use strict";var n=function(e){var t=e.vid,r=e.pid;return wp.element.createElement("div",{className:"flowplayer-embed-container",style:{position:"relative","padding-bottom":"56.25%",height:0,overflow:"hidden","max-width":"100%"}},wp.element.createElement("iframe",{src:"https://ljsp.lwcdn.com/api/video/embed.jsp?id="+t+"&pi="+r,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},webkitAllowFullScreen:!0,mozallowfullscreen:!0,allowFullScreen:!0,title:"0",byline:"0",portrait:"0",width:"640",height:"360",frameBorder:"0",allow:"autoplay"}))};t.a=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(2)},function(e,t,r){"use strict";var n=r(3),o=r(0),l=wp.i18n.__,i=wp.blocks.registerBlockType,a=wp.components,s=a.Path,c=a.SVG;i("flowplayer-embed/flowplayer-embed-block",{title:l("Flowplayer"),icon:wp.element.createElement(c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 330 330"},wp.element.createElement(s,{fill:"#006680",d:"M165,6.66C77.69,6.66,6.66,77.69,6.66,165S77.69,323.34,165,323.34s158.34-71,158.34-158.34S252.31,6.66,165,6.66Zm0,293.59C90.43,300.25,29.76,239.58,29.76,165S90.43,29.75,165,29.75,300.25,90.42,300.25,165,239.57,300.25,165,300.25Zm64.77-144.49-88.23-50.94c-8.8-5.08-16-.92-16,9.24V215.94c0,10.16,7.2,14.32,16,9.24l88.23-50.94C238.58,169.16,238.58,160.84,229.78,155.76Z"})),category:"embed",keywords:[l("Flowplayer Embed")],attributes:{vid:{type:"string"},pid:{type:"string"}},edit:function(e){return wp.element.createElement(n.a,e)},save:function(e){var t=e.attributes,r=t.vid,n=t.pid;return wp.element.createElement(o.a,{vid:r,pid:n})}})},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=r(0),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=window,c=s.wp,p=c.element,u=p.Component,d=p.Fragment,f=c.editor.BlockControls,m=c.components,b=m.Button,y=m.IconButton,w=m.Toolbar,h=c.i18n.__,v=function(){var e=c.media.view.MediaFrame.Post;return c.media.view.MediaFrame.Post.extend({createStates:function(){this.states.add([new c.media.controller.Library({id:"flowplayer",title:"Add Flowplayer embed",priority:20,router:"empty",toolbar:"flowplayer",filterable:!1,searchable:!0,date:!1,selection:!1,multiple:!1,editable:!1,library:c.media.query(_.defaults({flowplayer:"flowplayer"},this.options.library)),displaySettings:!1,url:""})])},bindHandlers:function(){e.prototype.bindHandlers.apply(this,arguments),this.on("toolbar:create:flowplayer",this.createToolbar,this),this.on("toolbar:render:flowplayer",this.flowplayerToolbar,this)},flowplayerToolbar:function(e){var t=this;this.selectionStatusToolbar(e),e.set("insert",{style:"primary",priority:80,text:c.media.view.l10n.insertIntoPost,requires:{selection:!0},click:function(){var e=t.state(),r=e.get("selection").pop(),n=r.toJSON();n.settings=e.display(r).toJSON();var o=t.fp_playerSettings.get("fp_embed_player"),l=n.url+"&pi="+o;e.set("fp-embed",{vid:n.url.match(/\?id=(.*)/i)[1],pid:o,fullUrl:l}),t.close(),e.trigger("select")}})}})},g=function(e){function t(){n(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));e.openModal=e.openModal.bind(e),e.onSelect=e.onSelect.bind(e);var r=v();return e.frame=new r({state:"flowplayer"}),c.media.frame=e.frame,e.frame.on("select",e.onSelect),e}return l(t,e),a(t,[{key:"componentWillUnmount",value:function(){this.frame.remove()}},{key:"onSelect",value:function(){var e=this.frame.state().get("fp-embed");this.props.setAttributes({pid:e.pid,vid:e.vid})}},{key:"openModal",value:function(){this.frame.open()}},{key:"render",value:function(){if(this.props.attributes&&this.props.attributes.vid){var e=this.props.attributes,t=e.vid,r=e.pid;return c.element.createElement(d,null,c.element.createElement(f,null,c.element.createElement(w,null,c.element.createElement(y,{className:"components-toolbar__control",label:h("Select another embed"),icon:"edit",onClick:this.openModal}))),c.element.createElement(i.a,{vid:t,pid:r}))}var n=h("Select Flowplayer embed");return c.element.createElement("div",{className:"components-placeholder"},c.element.createElement(b,{isLarge:!0,className:"editor-media-placeholder__button",onClick:this.openModal},n))}}]),t}(u);t.a=g}]);